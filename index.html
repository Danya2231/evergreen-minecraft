<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>EverGreen Minecraft - Подать заявку</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --primary:#10B981; --primary-dark:#059669; --primary-light:#D1FAE5;
  --white:#FFFFFF; --black:#1F2937; --gray-light:#F9FAFB; --gray:#E5E7EB;
  --gray-dark:#6B7280; --red:#EF4444;
}
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:'Inter',sans-serif;
  background:linear-gradient(135deg,#F0FDF4 0%,#ECFDF5 100%);
  color:var(--black); min-height:100vh; opacity:0; transition:opacity .8s ease-in;
}
.container{max-width:1000px;margin:0 auto;padding:20px;position:relative;z-index:1}
.logo-container{text-align:center;margin:20px 0 40px; position: relative;}
.logo{width:120px;height:120px;border-radius:12px;border:4px solid var(--primary);
  box-shadow:0 8px 25px rgba(16,185,129,.3);padding:8px;background-color:var(--white);
  transition:all .3s ease}
.logo:hover{transform:scale(1.05);box-shadow:0 12px 35px rgba(16,185,129,.4)}
/* квадратные фан-блоки */
.fan-block{position:absolute;width:25px;height:25px;background:var(--primary);border-radius:4px;transform:rotate(15deg);}
.fan-block.dark{background:var(--primary-dark);transform:rotate(-15deg);}
.welcome{background-color:var(--white);color:var(--black);padding:40px;border-radius:20px;
  text-align:center;margin-bottom:30px;box-shadow:0 10px 25px rgba(0,0,0,.08);
  border:2px solid var(--primary-light);position:relative;overflow:hidden}
.welcome::before{content:'';position:absolute;top:0;left:0;right:0;height:4px;
  background:linear-gradient(90deg,var(--primary),var(--primary-dark))}
.welcome h1{font-size:2.2rem;margin-bottom:20px;color:var(--black);font-weight:700;
  background:linear-gradient(135deg,var(--primary),var(--primary-dark));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.welcome p{font-size:1.1rem;line-height:1.7;margin-bottom:30px;color:var(--gray-dark);font-weight:400}
.btn{display:inline-flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--primary),var(--primary-dark));
  color:var(--white);padding:14px 32px;border:none;border-radius:12px;font-family:'Inter',sans-serif;
  font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;text-decoration:none;
  box-shadow:0 4px 15px rgba(16,185,129,.3);gap:8px}
.btn:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(16,185,129,.4);background:linear-gradient(135deg,var(--primary-dark),#047857)}
.btn:active{transform:translateY(0);box-shadow:0 4px 15px rgba(16,185,129,.3)}
.btn-secondary{background:var(--white);color:var(--black);border:2px solid var(--gray);box-shadow:0 2px 10px rgba(0,0,0,.05)}
.btn-secondary:hover{background:var(--gray-light);border-color:var(--gray-dark);box-shadow:0 4px 15px rgba(0,0,0,.1)}
.btn-danger{background:linear-gradient(135deg,var(--red),#DC2626);box-shadow:0 4px 15px rgba(239,68,68,.3)}
.btn-danger:hover{background:linear-gradient(135deg,#DC2626,#B91C1C);box-shadow:0 8px 25px rgba(239,68,68,.4)}

.form-container{display:none;background-color:var(--white);color:var(--black);
  padding:40px;border-radius:20px;box-shadow:0 10px 25px rgba(0,0,0,.08);border:2px solid var(--primary-light);
  margin-bottom:30px;position:relative;overflow:hidden}
.form-container::before{content:'';position:absolute;top:0;left:0;right:0;height:4px;
  background:linear-gradient(90deg,var(--primary),var(--primary-dark))}
.form-step{display:none;animation:fadeIn .5s ease-in-out}
.form-step.active{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.form-step h2{font-size:1.5rem;margin-bottom:30px;color:var(--black);text-align:center;font-weight:600}
.form-group{margin-bottom:25px;word-break:break-word}
.form-group label{display:block;margin-bottom:10px;font-size:.95rem;font-weight:500;color:var(--black)}
.form-group input{width:100%;padding:14px 16px;border:2px solid var(--gray);border-radius:12px;
  font-family:'Inter',sans-serif;font-size:1rem;background-color:var(--white);transition:all .3s ease}
.form-group input:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(16,185,129,.1);background-color:var(--white)}
.form-navigation{display:flex;justify-content:space-between;align-items:center;margin-top:40px;gap:15px}
.form-navigation .btn{min-width:120px}
.progress-container{margin:30px 0 40px}
.progress-bar{height:8px;background-color:var(--gray);border-radius:10px;overflow:hidden;margin-bottom:20px}
.progress{height:100%;background:linear-gradient(90deg,var(--primary),var(--primary-dark));width:0%;transition:width .5s ease-in-out;border-radius:10px}
.progress-steps{display:flex;justify-content:space-between;margin-top:15px;flex-wrap:wrap}
.progress-step{font-size:.85rem;color:var(--gray-dark);font-weight:500;text-align:center;flex:1;position:relative;min-width:60px;word-break:break-word}
.progress-step::before{content:'';position:absolute;top:-25px;left:50%;transform:translateX(-50%);width:20px;height:20px;border-radius:50%;
  background:var(--gray);border:3px solid var(--white);z-index:2;transition:all .3s ease}
.progress-step.active::before{background:var(--primary);box-shadow:0 0 0 3px var(--primary-light)}
.progress-step.active{color:var(--primary);font-weight:600}

.success-message{display:none;background-color:var(--white);color:var(--black);padding:50px 40px;border-radius:20px;text-align:center;
  box-shadow:0 10px 25px rgba(0,0,0,.08);border:2px solid var(--primary-light);margin-bottom:30px;position:relative;overflow:hidden;word-break:break-word}
.success-message::before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--primary),var(--primary-dark))}
.success-message h2{font-size:1.8rem;margin-bottom:20px;color:var(--black);font-weight:700}
.success-message p{font-size:1.1rem;line-height:1.7;margin-bottom:30px;color:var(--gray-dark)}

.application-data{background-color:var(--gray-light);padding:25px;border-radius:12px;margin:25px 0;text-align:left;font-size:.95rem;border-left:4px solid var(--primary);word-break:break-word}
.application-data h3{text-align:center;margin-bottom:15px;color:var(--black);font-weight:600}
.application-data p{margin:8px 0;color:var(--gray-dark)}
.application-data strong{color:var(--black);font-weight:600}

/* Админ-панель */
.admin-container{display:none;background-color:var(--white);padding:30px;border-radius:20px;box-shadow:0 10px 25px rgba(0,0,0,.08);
  border:2px solid var(--primary-light);margin-bottom:30px;position:relative;overflow:hidden}
.admin-container::before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--primary),var(--primary-dark))}
.admin-container h2{font-size:1.8rem;margin-bottom:25px;color:var(--black);font-weight:700;text-align:center}
.admin-table-container{overflow-x:auto;margin:25px 0;border-radius:12px;border:1px solid var(--gray)}
.admin-table{width:100%;border-collapse:collapse;min-width:600px;background:var(--white);table-layout:fixed;word-wrap:break-word}
.admin-table th{background:linear-gradient(135deg,var(--primary-light),#A7F3D0);color:var(--black);font-weight:600;padding:16px 12px;text-align:left;border-bottom:2px solid var(--primary);font-size:.9rem}
.admin-table td{padding:14px 12px;border-bottom:1px solid var(--gray);font-size:.9rem;color:var(--black);overflow-wrap:break-word}
.admin-table tbody tr{transition:background-color .2s ease}
.admin-table tbody tr:hover{background-color:var(--primary-light)}
.admin-table tbody tr:last-child td{border-bottom:none}
.admin-actions{display:flex;justify-content:center;gap:15px;margin-top:25px;flex-wrap:wrap}
.no-applications{text-align:center;padding:40px;color:var(--gray-dark);font-size:1.1rem}
.youtube-link{color:var(--primary);text-decoration:none;font-weight:500;transition:color .2s ease}
.youtube-link:hover{color:var(--primary-dark);text-decoration:underline}

@media (max-width:768px){
  .container{padding:15px}
  .welcome,.form-container,.success-message,.admin-container{padding:30px 25px}
  .welcome h1{font-size:1.8rem}
  .welcome p,.success-message p{font-size:1rem}
  .btn{padding:12px 24px;font-size:.95rem}
  .form-step h2{font-size:1.3rem}
  .progress-step{font-size:.75rem;min-width:50px}
  .form-navigation{flex-direction:column}
  .form-navigation .btn{width:100%}
  .admin-table th,.admin-table td{padding:12px 8px;font-size:.8rem}
}
@media (max-width:480px){
  .logo{width:100px;height:100px}
  .welcome,.form-container,.success-message{padding:25px 20px}
  .welcome h1{font-size:1.5rem}
  .form-step h2{font-size:1.2rem}
  .progress-step{font-size:.7rem;min-width:45px}
  .admin-container h2{font-size:1.5rem}
}
</style>
</head>
<body>
<div class="container" id="mainContent">
  <div class="logo-container">
    <img src="https://i.ibb.co/TqYqtF1h/logo.png" class="logo" alt="EverGreen">
    <div class="fan-block" style="top:-10px;left:-10px;"></div>
    <div class="fan-block dark" style="bottom:-10px;right:-10px;"></div>
  </div>
  <div class="welcome">
    <h1>EverGreen Minecraft</h1>
    <p>Добро пожаловать! Подайте заявку, чтобы присоединиться к нашей команде. Всё просто и удобно, а заявки сохраняются прямо в браузере.</p>
    <button class="btn" id="startForm">Подать заявку</button>
    <button class="btn btn-secondary" id="adminPanelBtn">Админ-панель</button>
  </div>

  <div class="form-container" id="applicationForm">
    <div class="form-step active" data-step="1">
      <h2>Информация о вас</h2>
      <div class="form-group">
        <label>Ваш ник в Discord</label>
        <input type="text" id="discord" placeholder="Например: user">
      </div>
      <div class="form-group">
        <label>Возраст</label>
        <input type="number" id="age" placeholder="Например: 16">
      </div>
      <div class="form-navigation">
        <button class="btn" id="next1">Далее</button>
      </div>
    </div>
    <div class="form-step" data-step="2">
      <h2>Дополнительно</h2>
      <div class="form-group">
        <label>Почему хотите присоединиться?</label>
        <input type="text" id="reason" placeholder="Короткий ответ">
      </div>
      <div class="form-navigation">
        <button class="btn btn-secondary" id="prev2">Назад</button>
        <button class="btn" id="submitForm">Отправить</button>
      </div>
    </div>
  </div>

  <div class="success-message" id="successMessage">
    <h2>Спасибо за заявку!</h2>
    <p>Ваша заявка успешно отправлена. ID вашей заявки:</p>
    <p id="successID" style="font-weight:700;font-size:1.2rem;color:var(--primary)"></p>
  </div>

  <div class="admin-container" id="adminContainer">
    <h2>Админ-панель</h2>
    <div class="admin-table-container">
      <table class="admin-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Discord</th>
            <th>Возраст</th>
            <th>Причина</th>
          </tr>
        </thead>
        <tbody id="applicationsTable">
          <tr class="no-applications"><td colspan="4">Заявок пока нет</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<script>
// Плавная загрузка
document.body.style.opacity = '1';

// Навигация между шагами
const startBtn = document.getElementById('startForm');
const form = document.getElementById('applicationForm');
const success = document.getElementById('successMessage');
const adminBtn = document.getElementById('adminPanelBtn');
const adminContainer = document.getElementById('adminContainer');

startBtn.addEventListener('click',()=>{form.style.display='block';window.scrollTo({top:form.offsetTop,behavior:'smooth'})});
adminBtn.addEventListener('click',()=>{adminContainer.style.display=adminContainer.style.display==='block'?'none':'block';window.scrollTo({top:adminContainer.offsetTop,behavior:'smooth'})});

const next1 = document.getElementById('next1');
const prev2 = document.getElementById('prev2');
const step1 = document.querySelector('.form-step[data-step="1"]');
const step2 = document.querySelector('.form-step[data-step="2"]');
next1.addEventListener('click',()=>{
  const discord = document.getElementById('discord').value.trim();
  const age = document.getElementById('age').value.trim();
  if(discord===''||age===''){alert('Заполните все поля');return;}
  step1.classList.remove('active');
  step2.classList.add('active');
});
prev2.addEventListener('click',()=>{
  step2.classList.remove('active');
  step1.classList.add('active');
});

// Генерация короткого ID (6 символов)
function generateID(){return Math.random().toString(36).substring(2,8).toUpperCase();}

// Сохранение заявок
const applicationsTable = document.getElementById('applicationsTable');
function saveApplication(data){
  let apps = JSON.parse(localStorage.getItem('applications')||'[]');
  apps.push(data);
  localStorage.setItem('applications',JSON.stringify(apps));
  renderAdmin();
}

// Отправка формы
const submitForm = document.getElementById('submitForm');
submitForm.addEventListener('click',()=>{
  const discord = document.getElementById('discord').value.trim();
  const age = document.getElementById('age').value.trim();
  const reason = document.getElementById('reason').value.trim();
  if(discord===''||age===''||reason===''){alert('Заполните все поля');return;}
  const appID = generateID();
  saveApplication({id:appID,discord,age,reason});
  form.style.display='none';
  success.style.display='block';
  document.getElementById('successID').textContent=appID;
});

// Рендер админ-панели
function renderAdmin(){
  let apps = JSON.parse(localStorage.getItem('applications')||'[]');
  if(apps.length===0){
    applicationsTable.innerHTML='<tr class="no-applications"><td colspan="4">Заявок пока нет</td></tr>';
    return;
  }
  applicationsTable.innerHTML='';
  apps.forEach(a=>{
    const tr = document.createElement('tr');
    tr.innerHTML=`<td>${a.id}</td><td>${a.discord}</td><td>${a.age}</td><td>${a.reason}</td>`;
    applicationsTable.appendChild(tr);
  });
}
renderAdmin();
</script>
</body>
</html>
